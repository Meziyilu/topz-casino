/* ===== Base ===== */
* { box-sizing: border-box; }
html, body {
  margin: 0; padding: 0;
  background: #0b0f17; color: #e6edf3;
  font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans TC", "Helvetica Neue", Arial;
  min-height: 100%;
}
:root{
  --blur: 14px;
  --glass: rgba(15, 22, 33, 0.45);
  --stroke: rgba(255,255,255,0.12);
  --card: rgba(20, 27, 40, 0.55);
  --fg: #e6edf3;
  --accent: #7dc1ff;
  --accent-2: #9f7dff;
  --ok: #6ee7a8;
  --warn: #fbbf24;
  --danger: #f87171;
  --shadow: 0 10px 30px rgba(0,0,0,0.45);
  --radius: 18px;
  --container-w: min(920px, 92vw);
}

/* ===== Background (gradient + noise) ===== */
.bg-gradient {
  position: fixed; inset: 0; z-index: -2;
  background:
    radial-gradient(1200px 800px at 20% 10%, rgba(60,130,255,0.18), transparent 60%),
    radial-gradient(900px 900px at 80% 20%, rgba(168,85,247,0.16), transparent 60%),
    radial-gradient(800px 600px at 50% 85%, rgba(34,197,94,0.12), transparent 60%),
    linear-gradient(180deg, #0b0f17 0%, #0a0d14 100%);
  filter: saturate(1.1);
}
.bg-noise {
  position: fixed; inset: 0; z-index: -1;
  pointer-events: none;
  background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' opacity='0.05' width='100' height='100' viewBox='0 0 100 100'><filter id='n'><feTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'></feTurbulence></filter><rect width='100%' height='100%' filter='url(%23n)'/></svg>");
  background-size: 200px 200px;
  mix-blend-mode: overlay;
}

/* ===== Aurora layer ===== */
.aurora {
  position: fixed; inset: 0; z-index: -3; pointer-events: none;
  background:
    radial-gradient(800px 500px at 15% 20%, rgba(125,193,255,0.12), transparent 60%),
    radial-gradient(700px 450px at 85% 35%, rgba(159,125,255,0.12), transparent 60%),
    radial-gradient(900px 600px at 50% 85%, rgba(110,231,170,0.10), transparent 60%);
  filter: blur(10px);
  animation: aurora-float 18s ease-in-out infinite alternate;
}
@keyframes aurora-float {
  0%   { transform: translate3d(0,0,0) scale(1);     filter: blur(10px);  }
  100% { transform: translate3d(-2%, 2%, 0) scale(1.03); filter: blur(12px); }
}

/* ===== Layout ===== */
.page-wrap {
  min-height: 100dvh;
  display: grid;
  place-items: center;
  padding: 48px 20px;
}

/* ===== Glass Panel ===== */
.glass {
  width: var(--container-w);
  border-radius: var(--radius);
  background: var(--glass);
  backdrop-filter: blur(var(--blur)) saturate(135%);
  -webkit-backdrop-filter: blur(var(--blur)) saturate(135%);
  border: 1px solid var(--stroke);
  box-shadow: var(--shadow);
  position: relative;
  overflow: clip;
}
.glass::before {
  content: ""; position: absolute; inset: 0; pointer-events: none;
  border-radius: inherit;
  background:
    linear-gradient(120deg, rgba(125,193,255,0.25), rgba(159,125,255,0.25));
  mask:
    linear-gradient(#000, #000) content-box,
    linear-gradient(#000, #000);
  -webkit-mask:
    linear-gradient(#000, #000) content-box,
    linear-gradient(#000, #000);
  padding: 1px;
  box-shadow: inset 0 0 0 1px rgba(255,255,255,0.04);
}
.glass .content { padding: 28px; transition: background .2s ease; }

/* Neon breathing halo */
.glass.neon { position: relative; }
.glass.neon::after {
  content: "";
  position: absolute; inset: -2px; z-index: -1;
  border-radius: inherit;
  background:
    conic-gradient(from 0deg,
      rgba(125,193,255,0.0),
      rgba(125,193,255,0.5),
      rgba(159,125,255,0.55),
      rgba(125,193,255,0.5),
      rgba(125,193,255,0.0)
    );
  filter: blur(16px) saturate(140%);
  animation: neon-rotate 8s linear infinite;
  opacity: .65;
}
@keyframes neon-rotate { to { transform: rotate(360deg); } }

.glass:hover .content {
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.00));
}

/* ===== Typography ===== */
.h1 {
  margin: 0 0 6px; font-size: clamp(22px, 3vw, 32px); font-weight: 800;
  letter-spacing: 0.3px;
  background: linear-gradient(90deg, #eaf2ff 0%, #d9ccff 100%);
  -webkit-background-clip: text; background-clip: text; color: transparent;
}
.subtle { opacity: 0.8; }

/* ===== Form ===== */
.form { display: grid; gap: 14px; margin-top: 18px; }
label { display: block; font-weight: 600; margin: 6px 0 6px; color: #d7deea; }
.input {
  width: 100%; padding: 12px 14px; border-radius: 12px;
  border: 1px solid rgba(255,255,255,0.12);
  background: rgba(8,12,20,0.55);
  color: var(--fg);
  outline: none;
}
.input:focus {
  border-color: rgba(125,193,255,0.55);
  box-shadow: 0 0 0 4px rgba(125,193,255,0.18);
}

/* ===== Buttons ===== */
.btn {
  appearance: none; border: 0; cursor: pointer;
  padding: 12px 16px; border-radius: 12px; font-weight: 700;
  color: #0b0f17; background: linear-gradient(135deg, var(--accent), var(--accent-2));
  box-shadow: 0 12px 24px rgba(125,193,255,0.18), inset 0 1px 0 rgba(255,255,255,0.35);
  transition: transform .08s ease, filter .15s ease;
}
.btn:disabled { filter: grayscale(0.3) brightness(0.9); cursor: default; }
.btn:hover { transform: translateY(-1px); }
.btn-secondary {
  color: var(--fg);
  background: rgba(255,255,255,0.06);
  border: 1px solid rgba(255,255,255,0.1);
}

/* Shimmer effect */
.btn.shimmer { position: relative; overflow: hidden; }
.btn.shimmer::after {
  content: ""; position: absolute; top: 0; bottom: 0; width: 80px;
  transform: skewX(-20deg) translateX(-150%);
  background: linear-gradient(90deg, rgba(255,255,255,0.0), rgba(255,255,255,0.38), rgba(255,255,255,0.0));
  filter: blur(1px);
  animation: shimmer-move 2.2s ease-in-out infinite;
}
@keyframes shimmer-move {
  0%   { transform: skewX(-20deg) translateX(-150%); }
  55%  { transform: skewX(-20deg) translateX(220%); }
  100% { transform: skewX(-20deg) translateX(220%); }
}

/* ===== Grid / Cards ===== */
.row { display: flex; gap: 12px; align-items: center; flex-wrap: wrap; }
.space-between { justify-content: space-between; }
.mt16 { margin-top: 16px; }
.mt24 { margin-top: 24px; }
.center { text-align: center; }

.grid {
  display: grid; gap: 16px; margin-top: 16px;
  grid-template-columns: repeat(12, minmax(0, 1fr));
}
.col-12 { grid-column: span 12; }
.col-6  { grid-column: span 6; }
.col-4  { grid-column: span 4; }
@media (max-width: 860px){
  .col-6, .col-4 { grid-column: span 12; }
}

.card {
  background: var(--card);
  border: 1px solid var(--stroke);
  border-radius: 16px;
  backdrop-filter: blur(var(--blur));
  -webkit-backdrop-filter: blur(var(--blur));
  padding: 18px;
  box-shadow: var(--shadow);
  transition: transform .15s ease;
}
.card:hover { transform: translateY(-2px); }
.card h3 { margin: 0 0 10px; font-size: 18px; letter-spacing: .2px; }
.stat { font-size: 28px; font-weight: 800; }
.note { opacity: .9; font-size: 14px; }

/* ===== Reduced motion ===== */
@media (prefers-reduced-motion: reduce) {
  .glass.neon::after, .btn.shimmer::after, .aurora { animation: none !important; }
}
/* === Playing Cards (flip + forced white face) === */
.card-stage { perspective: 1200px; display: inline-block; }

.playing-card {
  width: 72px; height: 104px; border-radius: 12px;
  position: relative; transform-style: preserve-3d;
  transition: transform 0.8s cubic-bezier(.2,.7,.2,1);
  box-shadow: 0 12px 30px rgba(0,0,0,.35);
  border: 1px solid rgba(0,0,0,.15);
  background: transparent; /* 防被全站背景覆蓋 */
}

.playing-card .face,
.playing-card .back {
  position: absolute; inset: 0; border-radius: inherit;
  backface-visibility: hidden;
  display: grid; place-items: center; font-weight: 800;
}

/* 牌背：深色 + 幾何圖 */
.playing-card .back {
  background:
    radial-gradient(120px 80px at 50% 0%, rgba(125,193,255,.25), transparent 60%),
    repeating-linear-gradient(45deg, rgba(255,255,255,.08) 0 6px, rgba(255,255,255,.02) 6px 12px),
    linear-gradient(135deg, #1f2937, #374151);
  color: #e5e7eb;
  letter-spacing: 2px;
}

/* 牌面：強制白底黑字，避免被主題樣式蓋掉變黑 */
.playing-card .face {
  transform: rotateY(180deg);
  background: #ffffff !important;
  color: #111827 !important;
}

/* 翻牌 */
.playing-card.flip { transform: rotateY(180deg); }

/* 角標 */
.card-rank { font-size: 22px; font-weight: 900; line-height: 1; }
.card-suit { font-size: 18px; margin-left: 4px; }
.red { color: #e11d48 !important; }

/* 亮閃 + 掃光（炫炮） */
.playing-card.flip { position: relative; overflow: hidden; }
.playing-card.flip::after {
  content: ""; position: absolute; top: -50%; left: -50%;
  width: 200%; height: 200%;
  background: radial-gradient(circle, rgba(255,255,255,0.8) 0%, transparent 70%);
  opacity: 0; transform: scale(0.5);
  animation: cardFlash 0.8s ease forwards; pointer-events: none;
}
@keyframes cardFlash {
  0% { opacity: 0; transform: scale(0.5); }
  40% { opacity: 1; transform: scale(1.2); }
  100% { opacity: 0; transform: scale(1.6); }
}
.playing-card.flip .face::before {
  content: ""; position: absolute; top: -50%; left: -50%;
  width: 200%; height: 200%;
  background: linear-gradient(120deg, transparent 30%, rgba(255,255,255,0.6) 50%, transparent 70%);
  transform: rotate(25deg) translateX(-150%);
  animation: shineSweep 1s ease forwards; pointer-events: none;
}
@keyframes shineSweep { to { transform: rotate(25deg) translateX(150%); } }

/* ===== 路子圖（簡版） ===== */
.road-grid { display: flex; flex-wrap: wrap; gap: 4px; padding: 8px 0; }
.road-dot { width: 20px; height: 20px; border-radius: 50%; }
.road-P { background: #3b82f6; } /* PLAYER */
.road-B { background: #ef4444; } /* BANKER */
.road-T { background: #facc15; } /* TIE */

/* ===== 錢包徽章 ===== */
.wallet-badge {
  display: flex; align-items: center; gap: 6px;
  background: rgba(255,255,255,0.1); border-radius: 9999px;
  padding: 4px 12px; font-weight: bold; font-size: 14px;
  backdrop-filter: blur(6px); box-shadow: 0 2px 6px rgba(0,0,0,0.25);
}
.wallet-amt { color: #facc15; margin-right: 6px; }
.wallet-sep { opacity: .6; margin: 0 4px; }

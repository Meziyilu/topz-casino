/* === Tailwind base === */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* =========================================
   Cosmic Variables
========================================= */
:root {
  --cosmic-bg-1: #070711;
  --cosmic-bg-2: #0d0b1a;
  --cosmic-nebula-a: rgba(84, 0, 255, 0.25);
  --cosmic-nebula-b: rgba(0, 173, 255, 0.18);
  --cosmic-nebula-c: rgba(255, 0, 122, 0.16);
  --cosmic-star: rgba(255, 255, 255, 0.9);
  --cosmic-star-dim: rgba(255, 255, 255, 0.4);

  --cosmic-card-glass: rgba(255,255,255,0.06);
  --cosmic-card-border: rgba(255,255,255,0.16);
  --cosmic-card-ring: rgba(0, 173, 255, 0.35);
  --cosmic-card-ring-2: rgba(255, 0, 122, 0.28);

  --cosmic-accent-cyan: 103 232 249;
  --cosmic-accent-rose: 253 164 175;
  --cosmic-accent-amber: 253 230 138;

  --cosmic-announce: rgba(255, 221, 80, 0.08);
  --cosmic-announce-border: rgba(255, 221, 80, 0.35);
  --cosmic-announce-glow: rgba(255, 221, 80, 0.25);
}

/* =========================================
   Base page + dark text color
========================================= */
html, body {
  background: radial-gradient(1200px 800px at 20% 10%, #0b0920 0%, var(--cosmic-bg-2) 40%, var(--cosmic-bg-1) 100%) fixed,
              linear-gradient(180deg, rgba(8,8,20,.7), rgba(6,6,14,.95)) fixed;
  color: #f4f6ff;
}

/* =========================================
   Cosmic animated background on .bg-casino-bg
   （你的容器原本就有這個 class，不用改）
========================================= */
.bg-casino-bg {
  position: relative;
  isolation: isolate;
  overflow: hidden;
  background: radial-gradient(1200px 800px at 75% 20%, var(--cosmic-nebula-b) 0%, transparent 45%) fixed,
              radial-gradient(900px 600px at 25% 65%, var(--cosmic-nebula-c) 0%, transparent 50%) fixed,
              radial-gradient(1000px 700px at 10% 25%, var(--cosmic-nebula-a) 0%, transparent 50%) fixed,
              linear-gradient(180deg, rgba(6, 6, 20, .85), rgba(6, 8, 22, .95)) fixed;
}

/* Nebula flow layer */
.bg-casino-bg::before {
  content: "";
  position: absolute;
  inset: -10%;
  background:
    radial-gradient(60rem 35rem at 20% 30%, rgba(130, 70, 255, .17), transparent 50%),
    radial-gradient(45rem 28rem at 80% 20%, rgba(0, 200, 255, .14), transparent 55%),
    radial-gradient(55rem 30rem at 70% 80%, rgba(255, 0, 140, .12), transparent 60%);
  filter: blur(22px) saturate(120%);
  animation: nebulaFlow 28s ease-in-out infinite alternate;
  z-index: -1;
}

/* Star particles layer */
.bg-casino-bg::after {
  content: "";
  position: absolute;
  inset: 0;
  background:
    radial-gradient(2px 2px at 20% 30%, var(--cosmic-star) 0, transparent 60%),
    radial-gradient(1.5px 1.5px at 40% 70%, var(--cosmic-star-dim) 0, transparent 55%),
    radial-gradient(1.2px 1.2px at 70% 40%, var(--cosmic-star) 0, transparent 60%),
    radial-gradient(1.8px 1.8px at 85% 75%, var(--cosmic-star-dim) 0, transparent 55%),
    radial-gradient(1.3px 1.3px at 10% 80%, var(--cosmic-star) 0, transparent 60%),
    radial-gradient(1.6px 1.6px at 55% 15%, var(--cosmic-star-dim) 0, transparent 55%);
  opacity: .7;
  animation: twinkle 3.6s ease-in-out infinite;
  z-index: -1;
}

/* 讓效果更濃郁（可在外層再加 .cosmic-dense） */
.cosmic-dense .bg-casino-bg::before { animation-duration: 22s; filter: blur(26px) saturate(135%); }
.cosmic-dense .bg-casino-bg::after  { opacity: .9; }

/* =========================================
   Cards — 強烈外框 + 玻璃感
========================================= */
.glass {
  background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.03));
  border: 1px solid var(--cosmic-card-border);
  backdrop-filter: blur(10px);
}

.card-strong {
  position: relative;
  background: linear-gradient(180deg, rgba(255,255,255,0.065), rgba(255,255,255,0.035));
  border: 1px solid var(--cosmic-card-border);
  border-radius: 1rem;
  overflow: hidden;
  box-shadow:
    0 0 0 1px rgba(255,255,255,0.08) inset,
    0 0 24px rgba(0, 173, 255, .08),
    0 0 48px rgba(255, 0, 122, .06);
}

.card-strong::before {
  content: "";
  position: absolute;
  inset: -2px;
  border-radius: inherit;
  background:
    radial-gradient(60% 40% at 20% 0%, rgba(0, 173, 255, .35), transparent 60%),
    radial-gradient(45% 35% at 100% 40%, rgba(255,0,122,.28), transparent 60%);
  mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  padding: 2px;
  -webkit-mask-composite: xor;
          mask-composite: exclude;
  pointer-events: none;
  animation: ringPulse 6s ease-in-out infinite;
}

.card-strong:hover {
  box-shadow:
    0 0 0 1px rgba(255,255,255,0.10) inset,
    0 0 28px rgba(0, 173, 255, .12),
    0 0 64px rgba(255, 0, 122, .08);
  transform: translateY(-1px);
}

/* 房間卡（沿用強框，但色彩偏冷） */
.room-card {
  composes: card-strong;
  background:
    linear-gradient(180deg, rgba(25,40,75,.22), rgba(15,22,40,.15)),
    linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.03));
  border-radius: 1.1rem;
}

/* 公告卡（黃金感） */
.announce-card {
  position: relative;
  background: linear-gradient(180deg, var(--cosmic-announce), rgba(255, 221, 80, 0.04));
  border: 1px solid var(--cosmic-announce-border);
  border-radius: 1rem;
  box-shadow:
    0 0 0 1px rgba(255,255,255,0.06) inset,
    0 0 22px var(--cosmic-announce-glow);
}

.announce-card::before {
  content: "";
  position: absolute;
  inset: 0;
  background: radial-gradient(60% 40% at 30% 0%, rgba(255,221,80,.20), transparent 60%);
  pointer-events: none;
  animation: sheen 7.5s linear infinite;
  opacity: .7;
}

/* =========================================
   Marquee（跑馬燈）
========================================= */
.marquee {
  position: relative;
  overflow: hidden;
  height: 42px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.16);
  background:
    linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.03)),
    linear-gradient(90deg, rgba(0,173,255,.12), rgba(255,0,122,.10));
  box-shadow: 0 0 24px rgba(0,173,255,.08) inset;
}

.marquee-track {
  position: absolute;
  white-space: nowrap;
  will-change: transform;
  animation: marqueeScroll 18s linear infinite;
  inset: 0 auto 0 0;
  display: flex;
  gap: 3rem;
  align-items: center;
  padding-left: 100%;
}

.marquee:hover .marquee-track { animation-play-state: paused; }

/* =========================================
   Winners glow（牌面贏方金光）
========================================= */
.win-glow {
  border: 2px solid rgba(255,215,0,.75) !important;
  box-shadow:
    0 0 20px rgba(255,215,0,.28),
    0 0 48px rgba(255,215,0,.20),
    0 0 0 1px rgba(255,255,255,.06) inset;
  animation: winPulse 2.4s ease-in-out infinite;
}

/* =========================================
   Small utils
========================================= */
.sheen {
  position: absolute;
  inset: 0;
  background: linear-gradient(120deg, transparent 0%, rgba(255,255,255,.12) 10%, transparent 20%);
  transform: translateX(-120%);
  animation: sheenMove 6s ease-in-out infinite;
  pointer-events: none;
}

.tilt { transform: perspective(800px) rotateX(0.5deg) rotateY(-0.6deg); }
.glow-ring { box-shadow: 0 0 0 1px rgba(255,255,255,.06) inset, 0 0 28px rgba(0,173,255,.08); }

/* =========================================
   Keyframes
========================================= */
@keyframes nebulaFlow {
  0%   { transform: translate3d(-2%, -1%, 0) scale(1.02); }
  50%  { transform: translate3d( 1%,  2%, 0) scale(1.05); }
  100% { transform: translate3d(-1%,  0%, 0) scale(1.02); }
}

@keyframes twinkle {
  0%, 100% { opacity: .65; filter: brightness(1); }
  50%      { opacity: .95; filter: brightness(1.15); }
}

@keyframes marqueeScroll {
  0%   { transform: translate3d(0,0,0); }
  100% { transform: translate3d(-100%,0,0); }
}

@keyframes ringPulse {
  0%,100% { opacity: .65; filter: saturate(115%) blur(0.4px); }
  50%     { opacity: .85; filter: saturate(130%) blur(0.8px); }
}

@keyframes sheenMove {
  0%   { transform: translateX(-120%); }
  40%  { transform: translateX(120%); }
  100% { transform: translateX(120%); }
}

@keyframes winPulse {
  0%,100% { box-shadow: 0 0 20px rgba(255,215,0,.22), 0 0 48px rgba(255,215,0,.16), 0 0 0 1px rgba(255,255,255,.06) inset; }
  50%     { box-shadow: 0 0 28px rgba(255,215,0,.35), 0 0 64px rgba(255,215,0,.25), 0 0 0 1px rgba(255,255,255,.10) inset; }
}

/* =========================================
   Accessibility: honor reduced motion
========================================= */
@media (prefers-reduced-motion: reduce) {
  .bg-casino-bg::before,
  .bg-casino-bg::after,
  .sheen,
  .marquee-track { animation: none !important; }
}

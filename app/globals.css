@tailwind base;
@tailwind components;
@tailwind utilities;

/* ===== 全域樣式 ===== */
body {
  @apply bg-casino-bg text-white font-sans;
}

/* ===== 卡片與按鈕 ===== */
.card { @apply bg-casino-card rounded-lg shadow-lg p-4 animate-fade; }

.btn {
  @apply px-4 py-2 rounded-md font-bold text-white transition;
  @apply bg-casino-accent hover:bg-purple-600 active:scale-95;
}

.room-card { @apply card hover:scale-105 transform transition duration-200 cursor-pointer; }

/* ===== 動畫／特效（原有 + 補強） ===== */
@keyframes floaty { 0%{transform:translateY(0)}50%{transform:translateY(-6px)}100%{transform:translateY(0)} }
@keyframes shine { 0%{transform:translateX(-120%)}60%,100%{transform:translateX(120%)} }
@keyframes pulse-border { 0%,100%{ box-shadow:0 0 0 rgba(255,255,255,.2)} 50%{ box-shadow:0 0 24px rgba(255,255,255,.25)} }
@keyframes shimmer { 0%{ background-position:-200% 0} 100%{ background-position:200% 0} }
@keyframes flipIn { 0%{ transform:rotateY(0)} 100%{ transform:rotateY(180deg)} }

.glass {
  background: rgba(255,255,255,0.06);
  border: 1px solid rgba(255,255,255,0.12);
  backdrop-filter: blur(14px);
}

.glow-ring { position:relative; }
.glow-ring::before{
  content:""; position:absolute; inset:-1px; border-radius:18px;
  background: linear-gradient(135deg, rgba(255,0,200,.35), rgba(0,255,220,.35), rgba(255,200,80,.35));
  filter:blur(16px); z-index:0; pointer-events:none; opacity:.4;
}

.sheen { position:relative; overflow:hidden; }
.sheen::after{
  content:""; position:absolute; inset:0;
  background:linear-gradient(110deg, transparent 0%, rgba(255,255,255,.15) 45%, transparent 55%);
  transform:translateX(-120%); animation:shine 2.8s ease-in-out infinite;
}

.tilt:hover { transform: translateY(-2px) rotateX(2deg) rotateY(-2deg); }

/* Flip 容器（舊 FlipTile 仍可用） */
.flip-3d { perspective:1000px; }
.flip-inner { position:relative; width:100%; height:100%; transform-style:preserve-3d; transition:transform .7s cubic-bezier(.2,.7,.2,1); }
.flip-front,.flip-back{ position:absolute; inset:0; -webkit-backface-visibility:hidden; backface-visibility:hidden; border-radius:16px; }
.flip-back{ transform:rotateY(180deg); }

/* 彩色點（路子） */
.dot{ display:inline-block; width:10px; height:10px; border-radius:9999px; }
.dot-player{ background:#67e8f9; } .dot-banker{ background:#fda4af; } .dot-tie{ background:#fde68a; }

/* ====== 新增：Baccarat hand layout（不互擠、依序翻牌、勝方金光） ====== */
.hand-wrap { min-height: 210px; }

.card-stack {
  position: relative;
  height: 140px;       /* 固定高度，避免兩手互擠 */
  margin-top: 8px;
}

.card-tile {
  position: absolute;
  top: 6px;
  left: calc(var(--i) * 66px); /* 卡片水平間距 */
  width: 86px;
  height: 124px;
  border-radius: 12px;
  transform: rotate(var(--deg, 0deg)) rotateY(180deg); /* 預設翻開（REVEALING/SETTLED） */
  transform-style: preserve-3d;
  transition: transform .6s ease;
  animation: flipIn .7s ease forwards;
  animation-delay: var(--delay, 0s);
  box-shadow: 0 8px 18px rgba(0,0,0,.25);
  overflow: hidden;
}

.card-face { position:absolute; inset:0; display:flex; align-items:center; justify-content:center; font-weight:800; letter-spacing:1px; -webkit-backface-visibility:hidden; backface-visibility:hidden; border-radius:12px; }
.card-front { background: rgba(255,255,255,.08); border:1px solid rgba(255,255,255,.18); color:#fff; }
.card-back  { transform: rotateY(180deg); background: linear-gradient(135deg, rgba(255,255,255,.92), rgba(250,250,250,.86)); color:#111; border:1px solid rgba(255,255,255,.75); }
.card-tile .rank{ font-size:28px; } .card-tile .pip{ font-size:14px; opacity:.6; margin-left:6px; }

/* 勝方金光 */
.win-glow{
  position:absolute; inset:-3px; border-radius:18px;
  box-shadow:0 0 28px rgba(255,215,0,.45), inset 0 0 24px rgba(255,215,0,.28);
  animation: glowPulse 1.8s ease-in-out infinite;
}
@keyframes glowPulse{ 0%,100%{opacity:.65} 50%{opacity:.3} }

/* 卡背依閒/莊帶色調 */
.card-tile[data-suit="p"] .card-back{
  background: linear-gradient(135deg, rgba(103,232,249,.25), rgba(255,255,255,.92));
}
.card-tile[data-suit="b"] .card-back{
  background: linear-gradient(135deg, rgba(253,164,175,.25), rgba(255,255,255,.92));
}

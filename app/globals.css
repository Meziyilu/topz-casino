@tailwind base;
@tailwind components;
@tailwind utilities;

/* ====== 主題變數 ====== */
:root {
  --bg: #0b0f1a;               /* 深色預設背景 */
  --panel: rgba(255,255,255,.06);
  --panel-border: rgba(255,255,255,.12);
  --text: #eaeef6;
  --muted: rgba(234,238,246,.75);
  --accent-1: #67e8f9;         /* cyan */
  --accent-2: #fda4af;         /* rose */
  --accent-3: #fde68a;         /* amber */
  --ring: rgba(255,255,255,.25);
  --card: rgba(255,255,255,.08);
  --card-border: rgba(255,255,255,.16);
}

html[data-theme="light"] {
  --bg: #f6f9ff;               /* 淺色主背景 */
  --panel: rgba(10, 18, 41, .03);
  --panel-border: rgba(10, 18, 41, .10);
  --text: #0b0f1a;
  --muted: rgba(11,15,26,.75);
  --accent-1: #0ea5b7;         /* cyan 深一點 */
  --accent-2: #e11d48;         /* rose 深一點 */
  --accent-3: #b45309;         /* amber 深一點 */
  --ring: rgba(10, 18, 41, .18);
  --card: rgba(10, 18, 41, .04);
  --card-border: rgba(10, 18, 41, .12);
}

/* 將全站文字顏色取自變數 */
html, body {
  color: var(--text);
}

/* ====== 宇宙感背景：深/淺兩版自動套用 ====== */
.bg-casino-bg {
  position: relative;
  background: var(--bg);
  /* 星雲漸層 */
  background-image: var(--cosmic-layers), var(--cosmic-stars), var(--cosmic-stars-2);
}

/* 用 CSS 變數裝多層星雲／星點，兩主題不同調性 */
html[data-theme="dark"] .bg-casino-bg {
  --cosmic-layers: radial-gradient(1200px 600px at 10% -10%, rgba(96,165,250,.18), transparent 60%),
                   radial-gradient(1000px 800px at 110% 10%, rgba(167,139,250,.18), transparent 60%),
                   radial-gradient(800px 700px at 50% 110%, rgba(253,164,175,.16), transparent 60%);
  --cosmic-stars: radial-gradient(1px 1px at 15% 20%, rgba(255,255,255,.8), transparent 40%),
                  radial-gradient(1px 1px at 40% 80%, rgba(255,255,255,.75), transparent 40%),
                  radial-gradient(1px 1px at 80% 30%, rgba(255,255,255,.7), transparent 40%);
  --cosmic-stars-2: radial-gradient(2px 2px at 25% 60%, rgba(255,255,255,.25), transparent 40%),
                    radial-gradient(2px 2px at 65% 35%, rgba(255,255,255,.22), transparent 40%),
                    radial-gradient(2px 2px at 90% 75%, rgba(255,255,255,.18), transparent 40%);
}

html[data-theme="light"] .bg-casino-bg {
  --cosmic-layers: radial-gradient(900px 500px at 0% -10%, rgba(96,165,250,.15), transparent 60%),
                   radial-gradient(900px 600px at 105% 10%, rgba(167,139,250,.15), transparent 60%),
                   radial-gradient(700px 600px at 50% 110%, rgba(253,164,175,.12), transparent 60%);
  --cosmic-stars: radial-gradient(1px 1px at 15% 20%, rgba(0,0,0,.18), transparent 40%),
                  radial-gradient(1px 1px at 40% 80%, rgba(0,0,0,.16), transparent 40%),
                  radial-gradient(1px 1px at 80% 30%, rgba(0,0,0,.14), transparent 40%);
  --cosmic-stars-2: radial-gradient(2px 2px at 25% 60%, rgba(0,0,0,.08), transparent 40%),
                    radial-gradient(2px 2px at 65% 35%, rgba(0,0,0,.06), transparent 40%),
                    radial-gradient(2px 2px at 90% 75%, rgba(0,0,0,.04), transparent 40%);
}

/* 可添加微動態星雲層（不影響互動） */
.bg-casino-bg::before,
.bg-casino-bg::after {
  content: "";
  position: absolute;
  inset: -10% -10% -10% -10%;
  pointer-events: none;
  background: radial-gradient(600px 600px at 20% 30%, rgba(103,232,249,.08), transparent 60%),
              radial-gradient(800px 800px at 80% 70%, rgba(253,164,175,.08), transparent 60%);
  animation: drift 18s ease-in-out infinite;
  filter: blur(1px);
  opacity: .6;
}
.bg-casino-bg::after {
  animation-duration: 22s;
  animation-delay: -4s;
  opacity: .45;
}

/* ====== 卡片/玻璃/邊框 ====== */
.glass {
  background: var(--panel);
  border: 1px solid var(--panel-border);
  backdrop-filter: blur(8px) saturate(120%);
  -webkit-backdrop-filter: blur(8px) saturate(120%);
  border-radius: 14px;
}

.glow-ring {
  box-shadow: 0 0 0 1px var(--ring), 0 8px 30px rgba(0,0,0,.15);
}

.btn {
  @apply px-4 py-2 rounded-lg border transition;
  background: var(--card);
  border-color: var(--card-border);
}
.btn:hover { border-color: rgba(255,255,255,.35); }

/* 漸層亮片掃過 */
.sheen {
  position: relative;
  overflow: hidden;
}
.sheen::after {
  content: "";
  position: absolute; inset: 0;
  background: linear-gradient(120deg, transparent, rgba(255,255,255,.25), transparent);
  transform: translateX(-120%) skewX(-10deg);
}
.sheen:hover::after { animation: sheen 1s ease; }

/* 3D 翻牌容器（仍保留你原本使用） */
.flip-3d { perspective: 1000px; }
.flip-inner {
  position: relative; transform-style: preserve-3d; width: 100%; height: 100%;
}
.flip-front, .flip-back {
  position: absolute; inset: 0; backface-visibility: hidden;
  border-radius: 16px;
}
.flip-front { background: var(--card); border: 1px solid var(--card-border); }
.flip-back  { transform: rotateY(180deg); }

/* 標記勝方的金光 */
.win-glow {
  box-shadow: 0 0 24px rgba(255,215,0,.35), inset 0 0 22px rgba(255,215,0,.25);
}

/* 細節字色 */
.muted { color: var(--muted); }

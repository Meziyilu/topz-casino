/* ====== 基礎（保留你原有變數與 reset） ====== */
:root {
  --bg-deep: #050510;
  --star-weak: rgba(255,255,255,0.07);
  --star-strong: rgba(255,255,255,0.12);
  --nebula-1:  radial-gradient(1200px 800px at 10% 20%, rgba(87, 109, 255, 0.18), transparent 60%);
  --nebula-2:  radial-gradient(1000px 700px at 80% 30%, rgba(255, 143, 178, 0.16), transparent 55%);
  --nebula-3:  radial-gradient(900px 650px at 50% 80%, rgba(88, 255, 215, 0.12), transparent 55%);
  --ring: 0 0 0 1px rgba(255,255,255,0.08);
}

html, body {
  background: var(--bg-deep);
}

/* ====== 銀河背景（低雜訊、緩動） ====== */
.galaxy-bg {
  position: absolute;
  inset: 0;
  background:
    /* base deep */
    radial-gradient(1200px 800px at 50% 50%, rgba(30, 32, 60, 0.6), transparent 60%),
    var(--bg-deep);
  overflow: hidden;
}

.galaxy-bg::before,
.galaxy-bg::after {
  content: "";
  position: absolute;
  inset: -10%;
  pointer-events: none;
}

/* 星雲層（慢速漂移） */
.galaxy-bg::before {
  background:
    var(--nebula-1),
    var(--nebula-2),
    var(--nebula-3);
  animation: nebulaDrift 60s linear infinite alternate;
  filter: blur(2px);
  opacity: .85;
}

/* 星點層（微弱閃爍） */
.galaxy-bg::after {
  background-image:
    radial-gradient(2px 2px at 20% 30%, var(--star-strong), transparent 60%),
    radial-gradient(2px 2px at 80% 40%, var(--star-weak), transparent 60%),
    radial-gradient(2px 2px at 35% 75%, var(--star-weak), transparent 60%),
    radial-gradient(2px 2px at 65% 15%, var(--star-strong), transparent 60%),
    radial-gradient(2px 2px at 55% 55%, var(--star-weak), transparent 60%),
    radial-gradient(2px 2px at 10% 85%, var(--star-weak), transparent 60%),
    radial-gradient(2px 2px at 90% 70%, var(--star-strong), transparent 60%);
  animation: twinkle 5.8s ease-in-out infinite alternate;
  opacity: .9;
}

@keyframes nebulaDrift {
  0%   { transform: translate3d(-2%, -1%, 0) scale(1.02); }
  100% { transform: translate3d( 2%,  1%, 0) scale(1.05); }
}

@keyframes twinkle {
  0% { opacity: .65; filter: drop-shadow(0 0 0px rgba(255,255,255,.0)); }
  100% { opacity: .95; filter: drop-shadow(0 0 4px rgba(255,255,255,.15)); }
}

/* ====== 卡片 / 玻璃霧面（保留你的既有樣式名稱時，可共存） ====== */
.glass-strong {
  background: linear-gradient( to bottom right, rgba(255,255,255,0.06), rgba(255,255,255,0.03) );
  backdrop-filter: blur(12px) saturate(130%);
  -webkit-backdrop-filter: blur(12px) saturate(130%);
  box-shadow:
    0 10px 30px rgba(0,0,0,.35),
    inset 0 1px 0 rgba(255,255,255,.06);
  border-radius: 16px;
}

/* 房卡加強邊框與微光 */
.room-card {
  position: relative;
}
.room-card::before {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: 16px;
  background: linear-gradient(135deg, rgba(149, 173, 255, .18), rgba(255, 139, 177, .12));
  opacity: .15;
  pointer-events: none;
  transition: opacity .25s ease;
}
.room-card:hover::before {
  opacity: .28;
}

/* 工具卡（銀行/管理/登出）一致外觀 */
.tool-card {
  display: grid;
  place-items: center;
  min-height: 64px;
  border-radius: 16px;
  text-align: center;
  background: linear-gradient( to bottom right, rgba(255,255,255,.06), rgba(255,255,255,.03) );
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  transition: transform .12s ease, box-shadow .2s ease;
}
.tool-card:hover {
  transform: translateY(-1px);
  box-shadow: 0 12px 28px rgba(0,0,0,.35);
}

/* ====== 跑馬燈（保留位階與動畫） ====== */
.marquee-card { height: 44px; }
.marquee-track {
  display: flex;
  align-items: center;
  height: 44px;
  white-space: nowrap;
  overflow: hidden;
  position: relative;
}
.marquee-item {
  display: inline-block;
  padding-inline: 2rem;
  animation: marquee 22s linear infinite;
  opacity: .9;
}
@keyframes marquee {
  0%   { transform: translateX(0%); }
  100% { transform: translateX(-100%); }
}

/* ====== 顏色主題（支援你的深/淺切換） ====== */
:root[data-theme="light"] {
  --bg-deep: #f4f7ff;
  --star-weak: rgba(0,0,0,0.06);
  --star-strong: rgba(0,0,0,0.12);
}
:root[data-theme="light"] .galaxy-bg {
  /* 淺色也保留淡淡的雲氣，但整體更清爽 */
  filter: saturate(120%) brightness(1.1);
}
